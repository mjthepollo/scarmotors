{% extends "base.html" %}
{% load custom_filters %}{% load static%} {% block css %} {{ block.super }}
<link rel="stylesheet" href="{% static 'css/demand/modules/register.css' %}">
{% endblock css %} {% block content %}
<h1>Search</h1>
<form method="GET">
  {{register_filter.form}}
  <input type="submit" value="Search">
</form>
<a href="{{download_url}}" download>Download Excel</a>
{% for register in registers %}
{% include "demand/modules/register.html" %}
{% endfor %}
{% with request.GET as params %}
  {% with params|remove_page_param as params_without_page %}
  <div class="pagination">
    <span class="step-links">
    {% if registers.has_previous %}
      <a href="?{{ params_without_page }}&page=1">&laquo; first</a>
      <a href="?{{ params_without_page }}&page={{registers.previous_page_number}}">previous</a>
    {% endif %}
    <span class="current">
      Page {{ registers.number }} of {{ registers.paginator.num_pages }}.
    </span>
    {% if registers.has_next %}
      <a href="?{{ params_without_page }}&page={{registers.next_page_number}}">next</a>
      <a href="?{{ params_without_page }}&page={{registers.paginator.num_pages}}">last &raquo;</a>
    {% endif %}
    </span>
  </div>
  {% endwith %}
{%endwith %}
{% endblock content %}
